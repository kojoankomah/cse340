<!-- account/management.ejs -->

<div class="management-container">
  <section class="management-card">
    <h1>Account Management</h1>

    <!-- Flash Message Display -->
    <% if (messages && messages.notice) { %>
      <div class="flash-message">
        <% messages.notice.forEach(function(msg){ %>
          <p><%= msg %></p>
        <% }) %>
      </div>
    <% } %>

    <% if (errors && errors.length > 0) { %>
      <ul class="error-list">
        <% errors.forEach(error => { %>
          <li><%= error.msg %></li>
        <% }) %>
      </ul>
    <% } %>

    <p>You're logged in.</p>
  </section>
</div>

<script>
  setTimeout(() => {
    const flash = document.querySelector('.flash-message');
    if (flash) {
      flash.style.transition = 'opacity 0.5s ease';
      flash.style.opacity = '0';
      setTimeout(() => flash.remove(), 500);
    }
  }, 4000);
</script>
